<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>信息公告板 | Info Board</title>
  <meta name="description" content="一个简洁的静态信息公告板模板，可部署到 GitHub Pages/任何静态空间。" />
  <style>
    :root{
      --bg:#0b0c10;--card:#11141a;--muted:#9aa3af;--text:#e5e7eb;--brand:#4f46e5;--ok:#10b981;--warn:#f59e0b;--pin:#ef4444;--chip:#1f2937;--bd:#1f2430
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"; background:var(--bg); color:var(--text)}
    .container{max-width:1100px; margin:0 auto; padding:28px 16px}
    header{display:flex; align-items:center; gap:14px; justify-content:space-between; margin-bottom:16px}
    .brand{display:flex; align-items:center; gap:10px}
    .logo{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,var(--brand),#06b6d4); box-shadow:0 8px 20px rgba(79,70,229,.35)}
    h1{font-size:20px;margin:0}
    .actions{display:flex; gap:8px; flex-wrap:wrap}
    .btn{border:1px solid var(--bd); background:var(--card); color:var(--text); padding:8px 12px; border-radius:10px; cursor:pointer}
    .btn:hover{border-color:#334155}
    .primary{background:var(--brand); border-color:transparent}
    .muted{color:var(--muted)}
    .searchbar{display:grid; grid-template-columns:1fr 180px 180px; gap:10px; margin:16px 0}
    input,select{width:100%; padding:10px 12px; background:var(--card); color:var(--text); border:1px solid var(--bd); border-radius:10px; outline:none}
    input:focus,select:focus{border-color:#334155}
    .chips{display:flex; flex-wrap:wrap; gap:8px; margin:8px 0}
    .chip{font-size:12px; padding:6px 8px; background:var(--chip); border:1px solid var(--bd); border-radius:999px; color:var(--muted); cursor:pointer}
    .chip.active{background:#0f172a;color:#c7d2fe;border-color:#334155}
    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:14px}
    .card{grid-column:span 12; background:var(--card); border:1px solid var(--bd); border-radius:16px; padding:16px; position:relative}
    @media (min-width:720px){.card{grid-column:span 6}}
    @media (min-width:1024px){.card{grid-column:span 4}}
    .card h3{margin:.2rem 0 .4rem; font-size:16px}
    .meta{font-size:12px; color:var(--muted); display:flex; gap:10px; align-items:center}
    .summary{margin:.5rem 0 0; color:#d1d5db; line-height:1.5}
    .pin{position:absolute; top:10px; right:10px; font-size:12px; background:var(--pin); color:#fff; padding:4px 8px; border-radius:999px}
    .empty{padding:28px; text-align:center; color:var(--muted); border:1px dashed var(--bd); border-radius:16px; background:rgba(255,255,255,0.02)}
    footer{margin:22px 0 10px; color:var(--muted); font-size:12px; display:flex; justify-content:space-between; align-items:center}
    .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:12px; border:1px solid var(--bd); background:#0b1220; padding:2px 6px; border-radius:6px}
    a{color:#c7d2fe; text-decoration:none}
    a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden></div>
        <div>
          <h1>信息公告板</h1>
          <div class="muted">静态网站模板 · 直接修改下方 <span class="kbd">POSTS</span> 数据即可发布</div>
        </div>
      </div>
      <div class="actions">
        <button class="btn" id="copyBtn" title="复制为 Markdown 列表">复制列表</button>
        <a class="btn" href="#" id="exportJson">导出JSON</a>
        <button class="btn primary" id="howBtn">如何部署</button>
      </div>
    </header>

    <section class="searchbar">
      <input id="q" placeholder="搜索标题/摘要/标签… (按 / 聚焦)" />
      <select id="cat"><option value="">全部分类</option></select>
      <select id="sort">
        <option value="date_desc">按时间：新→旧</option>
        <option value="date_asc">按时间：旧→新</option>
        <option value="title_asc">按标题 A→Z</option>
      </select>
    </section>

    <div class="chips" id="tags"></div>

    <section class="grid" id="list"></section>

    <div id="empty" class="empty" style="display:none">未找到匹配的信息。试试清空筛选或更换关键词。</div>

    <footer>
      <div>Made with ❤ · 纯静态，无后端 · 可部署到 GitHub Pages / Vercel / Netlify</div>
      <div>键盘：<span class="kbd">/</span> 搜索 · <span class="kbd">Esc</span> 清空</div>
    </footer>
  </div>

  <script>
    // ① 在这里编辑你的信息数据（新增/修改/删除）即可发布
    // 字段说明：
    //  title 标题 | date ISO日期 | category 分类 | tags 数组 | link 外部链接(可选) | summary 摘要 | pin 是否置顶
    const POSTS = [
      {title:"招聘助研（长期）", date:"2025-10-30", category:"通知", tags:["招聘","远程"], link:"https://example.com/job", summary:"图学习/分子建模方向，长期招 RA/实习。如果你熟悉 PyTorch/图神经网络，欢迎联系。", pin:true},
      {title:"周五组会改期", date:"2025-10-29", category:"日程", tags:["组会"], summary:"本周组会改到周五 15:00，地点 D403 会议室，线上腾讯会议同步。"},
      {title:"数据集更新说明", date:"2025-10-20", category:"数据", tags:["MD17","QM9"], link:"https://example.com/dataset", summary:"修复单位换算 bug，新增元数据字段与下载镜像。"},
      {title:"服务器维护", date:"2025-10-18", category:"运维", tags:["A5000","维护"], summary:"A5000 已更换 IP 并恢复，首次登录请修改密码。"}
    ];

    // ② 初始化筛选控件（分类、标签）
    const cats = Array.from(new Set(POSTS.map(p=>p.category))).sort();
    const $cat = document.getElementById('cat');
    cats.forEach(c=>{const o=document.createElement('option'); o.value=c; o.textContent=c; $cat.appendChild(o)});

    const allTags = Array.from(new Set(POSTS.flatMap(p=>p.tags||[]))).sort();
    const $tags = document.getElementById('tags');
    const tagState = new Set();
    allTags.forEach(t=>{const s=document.createElement('span'); s.textContent = t; s.className='chip'; s.onclick=()=>{ s.classList.toggle('active'); if(tagState.has(t)) tagState.delete(t); else tagState.add(t); render(); }; $tags.appendChild(s);});

    // ③ 渲染函数
    const $q = document.getElementById('q');
    const $sort = document.getElementById('sort');
    const $list = document.getElementById('list');
    const $empty = document.getElementById('empty');

    function render(){
      const q = $q.value.trim().toLowerCase();
      const cat = $cat.value;
      const tags = Array.from(tagState);

      let data = POSTS.slice();

      // 置顶优先
      data.sort((a,b)=> (b.pin?1:0)-(a.pin?1:0));

      // 搜索/筛选
      data = data.filter(p=>{
        if(cat && p.category!==cat) return false;
        if(tags.length && !tags.every(t => (p.tags||[]).includes(t))) return false;
        if(q){
          const hay = (p.title+" "+(p.summary||'')+" "+(p.tags||[]).join(' ')).toLowerCase();
          if(!hay.includes(q)) return false;
        }
        return true;
      });

      // 排序
      const sort = $sort.value;
      if(sort==='date_desc') data.sort((a,b)=> new Date(b.date)-new Date(a.date));
      if(sort==='date_asc') data.sort((a,b)=> new Date(a.date)-new Date(b.date));
      if(sort==='title_asc') data.sort((a,b)=> a.title.localeCompare(b.title,'zh'));

      // 渲染
      $list.innerHTML='';
      if(data.length===0){ $empty.style.display='block'; return; } else {$empty.style.display='none'}

      data.forEach(p=>{
        const card = document.createElement('article');
        card.className='card';
        const pin = p.pin? '<span class="pin">置顶</span>':'';
        const tags = (p.tags||[]).map(t=>`<span class="chip" style="pointer-events:none">#${t}</span>`).join(' ');
        const link = p.link? `<a href="${p.link}" target="_blank" rel="noopener">前往链接</a>`:'';
        card.innerHTML = `
          ${pin}
          <div class="meta"><span>📅 ${p.date}</span><span>•</span><span>📂 ${p.category}</span></div>
          <h3>${p.title}</h3>
          <p class="summary">${p.summary||''}</p>
          <div class="chips" style="margin-top:10px">${tags}</div>
          <div style="margin-top:12px">${link}</div>
        `;
        $list.appendChild(card);
      });
    }

    render();

    // ④ 交互：复制、导出、快捷键、帮助
    document.getElementById('copyBtn').onclick = () => {
      const md = POSTS
        .sort((a,b)=> new Date(b.date)-new Date(a.date))
        .map(p=>`- **${p.title}** (${p.date} · ${p.category})${p.link?` → ${p.link}`:''}`)
        .join('\n');
      navigator.clipboard.writeText(md).then(()=>{
        alert('已复制为 Markdown 列表');
      });
    };

    document.getElementById('exportJson').onclick = (e) => {
      e.preventDefault();
      const blob = new Blob([JSON.stringify(POSTS, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'posts.json'; a.click();
      setTimeout(()=>URL.revokeObjectURL(url), 1000);
    };

    document.getElementById('howBtn').onclick = () => {
      alert(`部署指南（GitHub Pages 最简单）：\n\n1) 新建 GitHub 仓库，例如 info-board。\n2) 把本页面作为 index.html 提交到仓库根目录。\n3) 仓库 Settings → Pages → Build from a branch → main 分支 / 根目录。\n4) 等 1 分钟，访问分配的 *.github.io 链接即可。\n\n可选：购买域名后在 DNS 添加 CNAME 指向 *.github.io，并在仓库根目录放一个 CNAME 文件。`);
    };

    // 快捷键
    window.addEventListener('keydown', (e)=>{
      if(e.key==='/' && document.activeElement!==$q){ e.preventDefault(); $q.focus(); }
      if(e.key==='Escape'){ $q.value=''; $cat.value=''; tagState.clear(); document.querySelectorAll('.chip.active').forEach(x=>x.classList.remove('active')); render(); }
    });
  </script>
</body>
</html>
